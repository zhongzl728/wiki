# مشروع تشغيل المحرك - IR2104S

يعتمد هذا المشروع لتشغيل المحرك على رقاقة تشغيل الجسر النصفي IR2104S ومكبر القناة N-MOS AP30H80K. يتم استخدام مثبت الجهد الخارجي الذي يزود IR2104S بالطاقة وفقًا لخطة XL2009E1.

مستودع المشروع: [**Collection_of_Motor_Driver_Design/DC_Motor/IR2104S**](https://github.com/linyuxuanlin/Collection_of_Motor_Driver_Design/tree/main/DC_Motor/IR2104S)

معاينة المشروع عبر الإنترنت:

<div class="altium-iframe-viewer">
  <div
    class="altium-ecad-viewer"
    data-project-src="https://github.com/linyuxuanlin/Collection_of_Motor_Driver_Design/raw/main/DC_Motor/IR2104S/IR2104S.zip"
  ></div>
</div>

## المعلمات الأساسية

- المدخلات
  - **VM**: مدخل 12-36 فولت لتوفير الطاقة للمحرك (يتم تحديده وفقًا لمعلمات XL2009E1 وIR2104S وAP30H80K).
  - **VCC_3V3**: مدخل 3.3-5 فولت لجهد عمل نظام الجسر النصفي الخارجي (يتم تحديده وفقًا لمعلمات رقاقة المنطق SN74LVC1G08DCKR).
  - **IN1/IN2**: إشارات المدخلات المنطقية الخارجية، يُوصى باستخدام جهد الارتفاع والانخفاض للمتابعة مع VCC_3V3، انظر الجدول الحقيقي أدناه.
  - **PWM**: إشارة PWM المدخلة، يجب أن يكون جهد الارتفاع والانخفاض متطابقًا مع جهد IN1/IN2.
  - **SD**: قيمة افتراضية للسحب الداخلي، يكون نشطًا عند الجهد المنخفض (يؤدي إلى إيقاف رقاقة الجسر النصفي IR2104S)، يتم تنشيطه عند الجهد العالي الخارجي (جهد VCC_3V3) لتشغيل IR2104S.
- المخرجات
  - **M+/M-**: توصيل المحرك الخارجي.
  - **VCC_12V**: إخراج تنظيم الجهد على اللوحة باستخدام دائرة XL2009E1 كمصدر طاقة احتياطي.

عند استخدام وحدة تشغيل المحرك، يجب توصيل نظام الجسر النصفي مع المتحكم الخارجي على نفس الأرضية.

يتم توضيح جدول القيم الحقيقية للتحكم المنطقي في هذا النظام كما يلي:

| SD  | IN1 | IN2 | PWM | حالة المحرك               |
| --- | --- | --- | --- | ------------------------- |
| 0   | x   | x   | x   | الانزلاق                  |
| 1   | 1   | 0   | 1   | الدوران في الاتجاه الموجب |
| 1   | 0   | 1   | 1   | الدوران في الاتجاه السالب |
| 1   | 1   | 1   | x   | الفرملة                   |
| 1   | 0   | 0   | x   | الفرملة                   |
| 1   | x   | x   | 0   | الفرملة                   |

## المبدأ الأساسي

### الدوائر المنطقية

لتشغيل المحرك، يتطلب الأمر استخدام زوجين من دوائر الجسر النصفي لتكوين دائرة جسر H كامل. للتحكم في حالة المحرك وفقًا لجدول القيم الحقيقية، يتم استخدام دائرتين من بوابات AND لمضاعفة إشارة PWM الخارجية مع IN1/IN2 وإرسال النتيجة (PWMA/PWMB) إلى دبوس IN في IR2104. يتم توصيل مدخلات الطاقة للرقاقة المنطقية مع مكثف 100 نانوفاراد للتوازن.

### الدوائر المنظمة

تعتمد الدوائر المنظمة على رقاقة XL2009E1 Buck لتحويل مصدر الطاقة الخارجي إلى جهد مستقر بقيمة 12 فولت لتغذية رقاقة IR2104S (التي تعمل في نطاق 10-20 فولت).

يمكن الرجوع إلى مقالة [**مشروع الطاقة (Buck) - XL2009E1**](https://wiki-power.com/%E7%94%B5%E6%BA%90%E6%96%B9%E6%A1%88%EF%BC%88Buck%EF%BC%89-XL2009E1) لمزيد من التفاصيل حول تصميم الدوائر المنظمة.

### الدوائر المشغلة للجسر النصفي

يمكن الرجوع إلى مقالة [**تصميم تشغيل المحرك ذو الفرشاة المباشرة**](https://wiki-power.com/%E7%9B%B4%E6%B5%81%E6%9C%89%E5%88%B7%E7%94%B5%E6%9C%BA%E9%A9%B1%E5%8A%A8%E7%9A%84%E8%AE%BE%E8%AE%A1) للحصول على المزيد من المعلومات حول أساسيات تشغيل المحرك.

IR2104S هو رقاقة تشغيل نصف جسر من Infineon. يتمثل العناصر الرئيسية لها فيما يلي:

- جهد تحمل عازل يصل إلى +600 فولت
- جهد تغذية البوابة بين 10 و 20 فولت
- مستويات إدخال منطقية متوافقة مع 3.3 فولت / 5 فولت / 15 فولت
- ميزات أخرى:
  - قفل التحت الجهد
  - تحكم في وقت المنطقة الميتة
  - منع التوصيل المتقاطع
  - المرحلة المتزامنة بين المفتاح العلوي وإشارة الإدخال المنطقية
  - إغلاق كل من المفتاح العلوي والمفتاح السفلي عند الإغلاق
  - تطابق تأخير الانتشار بين المفتاح العلوي والمفتاح السفلي

الشكل الداخلي للرقاقة:

![](https://media.wiki-power.com/img/20220407155726.png)

مخطط تطبيق نموذجي:

![](https://media.wiki-power.com/img/20220407155457.png)

في هذا النظام ، يتم تغذية IR2104S بجهد 12 فولت مع توصيل مكثف التوصيل الداخلي 100 نانوفاراد. يعتبر IN دبوس الإدخال المنطقي ، ويعتبر أي جهد يزيد عن 3 فولت كجهد مرتفع ، وأي جهد يقل عن 0.8 فولت كجهد منخفض. يمكن التحكم في فتح وإغلاق المفتاح العلوي والمفتاح السفلي من خلال إشارات المستوى العالي والمنخفض PWMA / PWMB المولدة من رقاقة المنطق. يعتبر SD إدخال إغلاق خارجي (فعال عند جهد منخفض). يتم دمج إشارات IN و SD معًا ، وتظهر توقيتات حالة مؤشرات المفتاح العلوي والمفتاح السفلي HO / LO كما يلي:

![](https://media.wiki-power.com/img/20220407153203.png)

يمكن ملاحظة أنه إذا كان إشارة IN عالية ، فإن المفتاح العلوي سيكون مفتوحًا بجهد عالٍ على بوابته ، والمفتاح السفلي سيكون مغلقًا بجهد منخفض على بوابته ، والعكس صحيح. إذا اكتشف SD جهدًا منخفضًا ، فسواء كان إشارة IN عالية أو منخفضة ، فسيتم إغلاق المفتاحين العلوي والسفلي.

لمنع تسرب التيار بين المفتاحين العلوي والسفلي (shoot-through) ، تم دمج IR2104S مع تحكم في منطقة الموت. يظهر توقيت التحكم في منطقة الموت على النحو التالي:

![](https://media.wiki-power.com/img/20220407153300.png)

حيث يكون القيمة النموذجية لـ DT هي 520 نانوثانية.

توقيت فتح / إغلاق المفتاح العلوي والسفلي:

![](https://media.wiki-power.com/img/20220407153941.png)

حيث تكون القيمة النموذجية لـ $t_{on}$ هي 680 نانوثانية ، والقيمة النموذجية لـ $t_{off}$ هي 150 نانوثانية.

نظرًا لأن الأنظمة تستخدم جميعًا مفاتيح N-MOS (شرط التوصيل هو $V_g-V_s>V_{gs(th)}$) ، فإنه يتطلب وجود دائرة تشغيل عالية الجانب لتشغيل المفتاح العلوي بشكل صحيح. يستخدم هذا النظام مكثف MLCC بسعة 1uF/50V متصل بين دبوسي VM و VB لتوفير جهد عالٍ على دبوس HO يزيد عن $V_{GS(th)}$ لمفتاح N-MOS ، وهو يعتمد على جهد تغذية IR2104S بعد خفض الجهد عبر توصيل الدايود ، مما يسمح بتوصيل المفتاح العلوي بشكل صحيح.

يجب أخذ عدة معاملات في الاعتبار عند اختيار المفاتيح MOS ، بما في ذلك $V_{DSS}$ و $V_{gs(th)}$ و $I_D$ و $R_{DS(on)}$ . يتم تحديد $V_{DSS}$ استنادًا إلى جهد المحرك المستخدم بالإضافة إلى هامش كافٍ ، ويتم تحديد $I_D$ استنادًا إلى متطلبات التطبيق مع هامش كافٍ ، وكلما كان $R_{DS(on)}$ أقل ، كان ذلك أفضل. بناءً على الاعتبارات المتعددة للمعلمات والسعر ، تم اختيار AP30H80K في هذا النظام.

تم تصميم وضع التلاشي لعدم وجود وضع تلاشي متزامن مدمج في IR2104S ، لذا تم استخدام شريحة الديود الثنائي Schottky SS34 للتلاشي غير المتزامن.

## المراجع والشكر

- [تفسير دائرة تشغيل المحرك H-bridge باستخدام STM32 و IR2104S](https://blog.csdn.net/qq_39400113/article/details/108909800)
- [استفسار حول دائرة تشغيل الجسر H للمفاتيح MOS ودائرة التشغيل العائمة](https://www.amobbs.com/thread-5716927-1-1.html)
- [AN-6076: تصميم ودليل تطبيق دائرة تشغيل البوابة العالية الجهد مع دائرة تشغيل ذاتية الاستقلالية](http://file.elecfans.com/web1/M00/0E/2C/pIYBAFocSwiAd48MAA0ls-d5YeY046.pdf)
- [لماذا لا يمكن أن يكون PWM سريعًا جدًا لتشغيل المحرك؟](https://blog.csdn.net/weixin_39883129/article/details/111642277)

> عنوان النص: <https://wiki-power.com/>  
> يتم حماية هذا المقال بموجب اتفاقية [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by/4.0/deed.zh)، يُرجى ذكر المصدر عند إعادة النشر.

> تمت ترجمة هذه المشاركة باستخدام ChatGPT، يرجى [**تزويدنا بتعليقاتكم**](https://github.com/linyuxuanlin/Wiki_MkDocs/issues/new) إذا كانت هناك أي حذف أو إهمال.
