````markdown
# RobotCtrl_Core - اللوحة الأساسية

![](https://media.wiki-power.com/img/20220527113423.png)

مستودع المشروع: [**linyuxuanlin/RobotCtrl/RobotCtrl_Core**](https://github.com/linyuxuanlin/RobotCtrl/tree/main/RobotCtrl_MultiBoard_Project/RobotCtrl_Core)

معاينة المشروع عبر الإنترنت:

<div class="altium-iframe-viewer">
  <div
    class="altium-ecad-viewer"
    data-project-src="https://github.com/linyuxuanlin/RobotCtrl/raw/main/RobotCtrl_MultiBoard_Project/RobotCtrl_Core_V2.81B.zip"
  ></div>
</div>

ملاحظة: هذا المشروع مضمن في [**RobotCtrl - مجموعة تطوير STM32 العامة**](https://wiki-power.com/RobotCtrl-STM32%E9%80%9A%E7%94%A8%E5%BC%80%E5%8F%91%E5%A5%97%E4%BB%B6).

## تصميم المخطط الكهربائي

الوظائف الرئيسية لـ RobotCtrl_Core هي كما يلي:

- دائرة تثبيت الطاقة (تحويل 5 فولت إلى 3.3 فولت مع نقاط اختبار)
- نظام الدائرة الكهربائية الصغيرة للمتحكم المفرد
  - دائرة الطاقة (فصل الطاقة و تصفية القراءات التناظرية للمحولات)
  - دائرة الإعادة (زر إعادة الضبط الخارجي)
  - دائرة الساعة (موجة مذبذبة عالية السرعة بدون مصدر)
  - واجهة التحميل و التصحيح (SW)
  - وضع التشغيل (اختيار التشغيل من ذاكرة الفلاش الرئيسية)
  - دائرة إمداد الطاقة و الاتصال بواسطة USB (USB-Micro)
- منفذ الاتصال B2B (خروج جميع واجهات الإدخال و الإخراج)
- الأجهزة المدمجة في اللوحة

### دائرة الإمداد بالطاقة

يمكن للوحة RobotCtrl_Core أن تستخدم طاقة 5 فولت عبر واجهة USB أو منفذ الاتصال B2B وتحولها إلى 3.3 فولت لتشغيل نواة المتحكم الفردي والأجهزة المدمجة. تستخدم دائرة تثبيت الطاقة مكبر الجهد الخطي (AMS1117-3.3، مع تصنيف تيار يصل إلى 1 أمبير) وتحتوي على مؤشر ضوء الطاقة وتخصيص نقاط اختبار حيوية.

يمكن الرجوع إلى مبادئ أساسية مكبر الجهد الخطي من خلال المقالة [**توبولوجيا الطاقة - التثبيت الخطي**](https://wiki-power.com/%E7%94%B5%E6%BA%90%E6%8B%93%E6%89%91-%E7%BA%BF%E6%80%A7%E7%A8%B3%E5%8E%8B).

### نظام المتحكم الفردي

تم تصميم نظام المتحكم الفردي الصغير على عدة أجزاء: الإمداد بالطاقة والإعادة والتصحيح والساعة ووضع التشغيل. يمكن الرجوع إلى المعلومات الأساسية من خلال المقالة [**كيفية تصميم نظام متحكم فردي صغير**](https://wiki-power.com/%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E4%B8%80%E6%AC%BE%E5%8D%95%E7%89%87%E6%9C%BA%E7%9A%84%E6%9C%80%E5%B0%8F%E7%B3%BB%E7%BB%9F) و [**تطوير الأجهزة الثابتة لـ STM32F4**](https://wiki-power.com/STM32F4%E7%A1%AC%E4%BB%B6%E5%BC%80%E5%8F%91).

### دائرة الإمداد بالطاقة

التوصيلات الخزفية:

- VDD: مكثف سيراميكي عام بسعة 10 ميكروفاراد، مع إضافة مكثف سيراميكي بسعة 100 نانوفاراد بجوار كل دبوس VDD.
- VDDA: مكثف سيراميكي بسعة 100 نانوفاراد + مكثف سيراميكي بسعة 1 ميكروفاراد.

مكثفات VCAP

- توصيل كل منها بمكثف سيراميكي بسعة 2.2 ميكروفاراد مع الأرض.

### دائرة الإعادة

تم تمكين مراقبة

```markdown
STM32 يحتوي على واجهة USB مدمجة، حيث يمكن تحقيق اتصال USB عن طريق سحب واجهة (في حالة شرائح STM32F07ZE، هي PA11 وPA12).

تدعم واجهة USB أيضًا وظيفة التزويد بالطاقة الخارجية (VUSB).

## موصل B2B

تم اختيار موصل B2B من السلسلة 3710 من شركة Zhengzhou Zhengtai Electronics (正点原子). تستخدم لوحة النواة RobotCtrl_Core زوجًا من الموصلات 3710M060037G3FT01 (ذكور)، وتستخدم لوحة الوظائف RobotCtrl_Func زوجًا من الموصلات F060037G0FR01 (إناث) للتوصيل. زوج واحد من موصلات B2B (بمجموع 120 دبوسًا) يمكن أن يقوم بتوصيل جميع مخرجات STM32F407ZE بالكامل، وبالتالي تحقيق أقصى استفادة من موارد النظام.

للمزيد من المعلومات حول موصلات B2B، يُرجى الرجوع إلى [**معلومات موصل 3710F**](http://www.openedv.com/thread-78182-1-1.html).

## أزرار المستخدم والمصابيح الخفيفة

تم تجهيز لوحة RobotCtrl_Core بزر مستخدم واحد ومصباح خفيف LED واحد لأغراض التحقق والاختبار البسيطة. تم تكوين الزر كإدخال GPIO مع تفعيل مقاومة السحب الداخلية، مع إضافة مكثف كيراميكي MLCC لمقاومة التذبذب الكهربائي بشكل أجهزة. أما المصباح الخفيف LED، فيتم تكوينه كإخراج GPIO حيث يتم تشغيله بواسطة تطبيق الجهد العالي على دبوسه، ويتم توصيل مقاومة كهربائية في المنتصف لتقييد التيار.

لمزيد من التفاصيل حول دبابيس الاتصال، يُرجى الرجوع إلى الخطط الكهربائية الأصلية.

## اختبار الأجهزة

يتطلب اختبار الطاقة توصيل جهاز USB بجهد 5 فولت (أو توصيله بواسطة موصل B2B من خلال لوحة الوظائف الخارجية)، ثم قياس الجهد المقابل عند نقطة الاختبار 3.3 فولت. تم التحقق في الواقع من جهد قدره 3.32 فولت، وتم اجتياز الاختبار بنجاح.

اختبار الوظائف يشمل حرق البرنامج الابتدائي (الذي يتحكم فيه زر المستخدم في تشغيل المصباح الخفيف LED)، واختبار التشغيل وإعادة التشغيل، وزر الإعادة، وزر المستخدم، ومصباح الطاقة، ومصباح الإضاءة. أما اختبار الوظائف لوظيفة USB، فيتم باستخدام برنامج الجهاز الظاهري للمنفذ USB، حيث يمكن فتح أي أداة توصيل بتسلسل البت وإرسال أي حرف، ويجب أن يتم إرسال نفس الحرف في الرد. تم اجتياز هذا الاختبار بنجاح.

## مراجع وشكر

- [شرح جيد لمنفذ PDR_ON في STM32](https://blog.csdn.net/Frankenstien_/article/details/105971841)
- [اختبار جهاز STM32-F407 Explorer من Zhengzhou Zhengtai Electronics (正点原子) - الفصل الخامس والخمسون](https://zhuanlan.zhihu.com/p/136163591)

> عنوان النص: <https://wiki-power.com/>
> يتم حماية هذا المقال بموجب اتفاقية [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by/4.0/deed.zh)، يُرجى ذكر المصدر عند إعادة النشر.
```
````

> تمت ترجمة هذه المشاركة باستخدام ChatGPT، يرجى [**تزويدنا بتعليقاتكم**](https://github.com/linyuxuanlin/Wiki_MkDocs/issues/new) إذا كانت هناك أي حذف أو إهمال.
